<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Lista Complementaria Total UAM 2020â€“2024</title>
<!-- Incluimos Plotly.js desde CDN -->
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0; padding: 20px;
    background-color: #FAFAFA;
    color: #333;
  }
  #chart {
    width: 90vw;
    max-width: 900px;
    height: 600px;
    margin: auto;
  }
</style>
</head>
<body>

<h1 style="text-align:center; color:#264653;">ðŸ“‹ Lista Complementaria Total UAM 2020â€“2024</h1>

<div id="chart"></div>

<script>
  // Datos
  const labels = ["AdmisiÃ³n", "InscripciÃ³n", "Sin inscripciÃ³n"];
  const values = [2219, 1906, 310];
  const colors = ["#264653", "#2A9D8F", "#E76F51"];

  // Texto para anotaciones (HTML)
  const annotationText = `<b>Resumen de datos</b><br><br>` +
    labels.map((label, i) => `<span style="color:${colors[i]}">${label}:</span> <b>${values[i].toLocaleString()}</b>`).join("<br>");

  // Datos para Plotly
  const data = [{
    type: 'funnelarea',
    text: labels,
    labels: labels,
    values: values,
    marker: {
      colors: colors,
      line: {color: '#FFFFFF', width: 3}
    },
    textinfo: 'label+value+percent',
    textfont: {size: 18},
    opacity: 1
  }];

  // Layout con anotaciÃ³n y estilo
  const layout = {
    title: {
      text: "ðŸ“‹ Lista Complementaria Total UAM 2020â€“2024",
      x: 0.5,
      xanchor: "center",
      font: {size: 26, family: "Segoe UI, Helvetica, sans-serif", color: "#264653"}
    },
    font: {
      family: 'Segoe UI, Helvetica, sans-serif',
      size: 16,
      color: '#333333'
    },
    annotations: [{
      x: 1.05,
      y: 0.5,
      xref: 'paper',
      yref: 'paper',
      align: 'left',
      showarrow: false,
      text: annotationText,
      font: {size: 14, color: '#333333'},
      bgcolor: 'white',
      bordercolor: '#DDDDDD',
      borderwidth: 1,
      borderpad: 10
    }],
    paper_bgcolor: '#FAFAFA',
    plot_bgcolor: '#FAFAFA',
    margin: {t: 100, l: 60, r: 250, b: 60},
    height: 600,
  };

  // Renderizamos el grÃ¡fico en el div #chart
  Plotly.newPlot('chart', data, layout, {responsive: true});
</script>

</body>
</html>

